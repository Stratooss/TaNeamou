<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8" />
  <title>Î•ÏÎºÎ¿Î»ÎµÏ‚ Î•Î¹Î´Î®ÏƒÎµÎ¹Ï‚</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Bootstrap CSS Î±Ï€ÏŒ CDN -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
    crossorigin="anonymous"
  />

  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background-color: #f4f7fb;
    }
    .site-header {
      background: linear-gradient(135deg, #2563eb, #1d4ed8);
      color: white;
      padding: 1.5rem 0;
      margin-bottom: 1.5rem;
    }
    .site-title {
      font-size: 1.8rem;
      font-weight: 700;
    }
    .site-subtitle {
      font-size: 1rem;
      margin-top: 0.25rem;
      opacity: 0.9;
    }
    .article-card {
      border-radius: 16px;
      box-shadow: 0 4px 10px rgba(15, 23, 42, 0.1);
      border: none;
      background-color: #ffffff;
    }
    .article-card h2 {
      font-size: 1.2rem;
      font-weight: 700;
    }
    .article-text {
      font-size: 1rem;
    }
    .source {
      font-size: 0.85rem;
      color: #6b7280;
    }
    #status {
      text-align: center;
      color: #4b5563;
      margin-bottom: 1rem;
    }
    .badge-source {
      background-color: #e5e7eb;
      color: #374151;
    }
  </style>
</head>
<body>
  <!-- Î•Ï€Î¬Î½Ï‰ Î¼Ï€Î¬ÏÎ± -->
  <header class="site-header">
    <div class="container">
      <div class="d-flex flex-column flex-md-row align-items-md-center justify-content-between gap-2">
        <div>
          <div class="site-title">ğŸ“° Î•ÏÎºÎ¿Î»ÎµÏ‚ Î•Î¹Î´Î®ÏƒÎµÎ¹Ï‚</div>
          <div class="site-subtitle">Î•Î¹Î´Î®ÏƒÎµÎ¹Ï‚ ÏƒÎµ Î±Ï€Î»Î® Î³Î»ÏÏƒÏƒÎ± Î³Î¹Î± ÏŒÎ»Î¿Ï…Ï‚</div>
        </div>
        <div class="text-md-end">
          <span class="badge bg-light text-dark">Î‘Î½Î±Î½ÎµÏÎ½ÎµÏ„Î±Î¹ Î±Ï…Ï„ÏŒÎ¼Î±Ï„Î±</span>
        </div>
      </div>
    </div>
  </header>

  <!-- Î ÎµÏÎ¹ÎµÏ‡ÏŒÎ¼ÎµÎ½Î¿ -->
  <main class="container mb-5">
    <p id="status">Î¦Î¿ÏÏ„ÏÎ½Ï‰ Ï„Î¹Ï‚ ÎµÎ¹Î´Î®ÏƒÎµÎ¹Ï‚â€¦</p>

    <div id="news" class="row g-4">
      <!-- ÎµÎ´Ï Î¸Î± Î¼Ï€Î¿Ï…Î½ Î¿Î¹ ÎºÎ¬ÏÏ„ÎµÏ‚ Î¼Îµ Ï„Î¹Ï‚ ÎµÎ¹Î´Î®ÏƒÎµÎ¹Ï‚ -->
    </div>
  </main>

  <script>
    function cleanMarkdown(text) {
      if (!text) return "";
      // Î²Î³Î¬Î¶Î¿Ï…Î¼Îµ **bold**, ### ÎºÏ„Î» ÎºÎ±Î¹ ÎºÏÎ±Ï„Î¬Î¼Îµ Ï„Î¿ ÎºÎµÎ¯Î¼ÎµÎ½Î¿
      return text
        .replace(/\*\*(.+?)\*\*/g, "$1")
        .replace(/###\s*/g, "")
        .trim();
    }

    async function loadNews() {
      const statusEl = document.getElementById("status");
      const container = document.getElementById("news");

      try {
        const res = await fetch("news.json?cachebust=" + Date.now());
        if (!res.ok) {
          throw new Error("HTTP " + res.status);
        }

        const data = await res.json();
        const articles = (data && data.articles) || [];

        if (!articles.length) {
          statusEl.textContent = "Î ÏÎ¿Ï‚ Ï„Î¿ Ï€Î±ÏÏŒÎ½ Î´ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ ÎµÎ¹Î´Î®ÏƒÎµÎ¹Ï‚.";
          return;
        }

        statusEl.textContent = "";

        articles.forEach((a) => {
          const col = document.createElement("div");
          col.className = "col-12";

          const card = document.createElement("div");
          card.className = "card article-card";

          const cardBody = document.createElement("div");
          cardBody.className = "card-body";

          const title = document.createElement("h2");
          title.className = "card-title mb-2";
          title.textContent = a.title || "";

          const textP = document.createElement("p");
          textP.className = "card-text article-text";
          const cleaned = cleanMarkdown(a.simpleText || "");
          // Î±Î»Î»Î¬Î¶Î¿Ï…Î¼Îµ Î±Î»Î»Î±Î³Î­Ï‚ Î³ÏÎ±Î¼Î¼Î®Ï‚ ÏƒÎµ <br>
          textP.innerHTML = cleaned.replace(/\n/g, "<br/>");

          const footer = document.createElement("p");
          footer.className = "source mt-3 mb-0";

          const sourceName = a.sourceName || "Î Î·Î³Î®";
          const sourceUrl = a.sourceUrl || "#";

          footer.innerHTML =
            'Î Î·Î³Î®: <a href="' +
            sourceUrl +
            '" target="_blank" rel="noopener noreferrer">' +
            sourceName +
            "</a>";

          cardBody.appendChild(title);
          cardBody.appendChild(textP);
          cardBody.appendChild(footer);
          card.appendChild(cardBody);
          col.appendChild(card);
          container.appendChild(col);
        });
      } catch (err) {
        console.error(err);
        statusEl.textContent =
          "Î ÏÎ¿Î­ÎºÏ…ÏˆÎµ Ï€ÏÏŒÎ²Î»Î·Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î· Ï†ÏŒÏÏ„Ï‰ÏƒÎ· Ï„Ï‰Î½ ÎµÎ¹Î´Î®ÏƒÎµÏ‰Î½: " + err.message;
      }
    }

    loadNews();
  </script>
</body>
</html>

